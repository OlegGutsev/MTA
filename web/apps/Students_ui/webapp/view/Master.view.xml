<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:fb="sap.ui.comp.filterbar"
	controllerName="students.controller.Master" height="100%">	
	<fb:FilterBar reset="onResetFilter" search="onSearchFilter" id="filterBar" showRestoreButton="true" >
        <fb:filterGroupItems>
            <fb:FilterGroupItem groupName="Student Data" partOfCurrentVariant="true" visibleInFilterBar="true" groupTitle="Student" name="A" label="Name" labelTooltip="Student Name">
				<fb:control>
					<Input id="Fname" type="Text"/>
				</fb:control>				
			</fb:FilterGroupItem>
            <fb:FilterGroupItem groupName="Student Data" partOfCurrentVariant="true" visibleInFilterBar="true" groupTitle="Student" name="B" label="SurName" labelTooltip="Student SurName">
				<fb:control>
					<Input id="Fsurname" type="Text"/>
				</fb:control>				
			</fb:FilterGroupItem>
        </fb:filterGroupItems>
    </fb:FilterBar>		
	<Page showHeader="false" enableScrolling="true" class="sapUiContentPadding">
		<content>
			<Table busyIndicatorDelay="0" growing="true" growingScrollToLoad="true" noDataText="{i18n>tableNoDataText}" id="StudentList"
				items="{ path: '/Student', sorter: { path: 'studid', descending: false }, parameters: { $expand: 'toAddress,toGradeBook', $count: true } }" width="auto"
				>
				<headerToolbar>
					<OverflowToolbar>
                        <content>
						    <Title id="idStudentsTitle" text="{i18n>worklistTableTitle}" level="H3"/>
						    <ToolbarSpacer/>
                            <SearchField 
											id="searchField"
											width="auto"
											placeholder="{i18n>searchFieldPlaceholder}"
                                            liveChange=".onSearch"/>
						    <Button icon="sap-icon://action-settings" tooltip="{i18n>onSettings}" press="onSettings"/>
                        </content>
					</OverflowToolbar>
                    
				</headerToolbar>
				<columns>
					<Column width="20%">
						<Text text="{i18n>name}"/>
					</Column>
					<Column>
						<Text text="{i18n>surname}"/>
					</Column>
					<Column>
						<Text text="{i18n>age}"/>
					</Column>
					<Column>
						<Text text="city"/>
					</Column>
					<Column>
						<Text text="GradeBook ID"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press="onGoToDetail">
                        
						<cells>
							<ObjectIdentifier title="{studid}" text="{name}"/>
                        </cells>
                        <cells>
							<Text text="{surNm}"/>
                        </cells>
                        <cells>
							<ObjectNumber number="{age}"/>
                        </cells>
                        <cells>
							<FormattedText htmlText="{toAddress/city}&lt;br&gt;{toAddress/strt} {toAddress/hnum}"/>
						</cells>
                        <cells>
                            <Text text="{toGradeBook/grdid}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</mvc:View>